@model DetallePresupuestoViewModel

<body>

    <main class="container mt-5">
        <article
            class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
        <h1 class="mb-4">ðŸ“‹ Detalle del Presupuesto de: @Model.NombreDestinatario</h1>
        </article>

        <table class="table table-striped table-hover table-bordered">
            <thead class="table-dark">
                <tr>

                    <th scope="col" class="col-6 text-center">DescripciÃ³n</th>
                    <th scope="col" class="col-1 text-center">Cantiadad</th>
                    <th scope="col" class="col-1 text-center">Precio (AR$)</th>

                    <!-- Aqui deberÃ­a chequear si es o no admin para mostrar esto -->
                </tr>
            </thead>
            @{ double total = 0; }
            <tbody>
                @foreach (var d in Model.Detalles)
                {
                    <tr>
                        <td>@d.Producto.Descripcion</td>
                        <td class="text-center">@d.Cantidad</td>
                        <td class="text-center">@d.Producto.Precio</td>
                        
                        <!-- Aqui deberÃ­a chequear si es o no admin para mostrar esto -->
                        @{total = total + d.Cantidad*d.Producto.Precio;}
                    </tr>
                }
                <tr class="text-center">
                    <td class colspan="3"> <a class="btn text-dark col-3" asp-controller="Presupuesto" asp-action="AgregarProductoADetalle" asp-route-id="@Model.IdPresupuesto">Agregar + </a> </td>
                </tr>
            </tbody>
        </table>

        <table class="table table-striped table-hover table-bordered">
        <tbody>
           <tr class="text-center">
                    <td colspan="2">Total a pagar:</td>
                    <td>@total</td> 
                </tr></tbody></table>
        <article class="p-3 text-center">
            <a class="btn btn-info text-white  col-3" asp-controller="Presupuesto" asp-action="Index">Volver</a>
        </article>
    </main>
</body>